<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="ev">
        <style>
            #ev{
                width: 300px;
                height: 100px;
                background: red;
                color: #fff;
                text-align: center;
                line-height: 100px;
            }
        </style>
        目标元素
    </div>
    <script>
        // addEventListener最后一个参数默认是false，在冒泡阶段触发，true为在捕获阶段错发
        var ev = document.getElementById('ev');

        // ev
        ev.addEventListener('click', function(){
            console.log('ev capture');
        }, true);

        // window
        window.addEventListener('click', function(){
            console.log('window capture');
        }, true);

        // document
        document.addEventListener('click', function(){
            console.log('document capture');
        }, true);

        // html
        document.documentElement.addEventListener('click', function(){
            console.log('html capture');
        }, true);

        // body
        document.body.addEventListener('click', function(){
            console.log('body capture');
        }, true);

        

        // DOM事件类：
        // 事件级别
        // DOM0    element.onclick = function(){}
        // DOM2    element.addEventListener('click', function(){}, false);
        // DOM3    element.addEventListener('keyup', function(){}, false);

        // 事件模式
        // 1、捕获：从上往下
        // 2、冒泡，从下往上

        // 事件流
        // 捕获-目标事件-冒泡

        // 描述DOM事件捕获的具体流程
        // window-document-html-body-普通结构一层一层往下传-目标元素

        // Event对象的常见应用
        // event.preventDefault()
        // event.stopPropagation()
        // event.stopImmediatePropagation()
        // event.currentTarget
        // event.target

        // 自定义事件
        var eve = new Event('test');
        ev.addEventListener('test', function(){
            console.log('test dispatch');
        })
        ev.dispatchEvent(eve);
    </script>
</body>
</html>